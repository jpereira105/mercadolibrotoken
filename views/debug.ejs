<!DOCTYPE html>
<html>
<head>
  <title>Debug OAuth2</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #f5f5f5; }
    h2 { color: #333; }
    .ok { color: green; }
    .error { color: red; }
    pre { background: #eee; padding: 1rem; border-radius: 5px; }
  </style>
</head>
<body>
  <h2>🔍 Debug OAuth2</h2>

  <p><strong>Código recibido:</strong> <%= code %></p>
  <p><strong>Code Verifier:</strong> <%= codeVerifier %></p>
  <p><strong>Status HTTP:</strong> <%= status %></p>

  <h3>📋 Logs:</h3>
    <ul>
        <li><%= logs.codeLog %></li>
        <li><%= logs.verifierLog %></li>
        <li><%= logs.statusLog %></li>
    </ul>  

  <% if (error) { %>
    <h3 class="error">❌ Error:</h3>
    <pre><%= error %></pre>
  <% } else { %>
    <h3 class="ok">✅ Token recibido:</h3>
    <pre><%= JSON.stringify(token, null, 2) %></pre>
  <% } %>
</body>
</html>
